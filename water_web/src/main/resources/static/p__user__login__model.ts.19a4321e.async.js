(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{Vl52:function(t,e,n){"use strict";var a=n("mZ4U");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n("mK77")),u=a(n("Ico4")),c=n("DWJA"),i=n("WHbk"),o=n("sH+L"),s={namespace:"userLogin",state:{status:void 0},effects:{login:u.default.mark(function t(e,n){var a,r,s,p,l,f,d,h;return u.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.payload,r=n.call,s=n.put,t.next=4,r(i.fakeAccountLogin,a);case 4:return p=t.sent,t.next=7,s({type:"changeLoginStatus",payload:p});case 7:if("ok"!==p.status){t.next=22;break}if(l=new URL(window.location.href),f=(0,o.getPageQuery)(),d=f.redirect,!d){t.next=20;break}if(h=new URL(d),h.origin!==l.origin){t.next=18;break}d=d.substr(l.origin.length),d.match(/^\/.*#/)&&(d=d.substr(d.indexOf("#")+1)),t.next=20;break;case 18:return window.location.href=d,t.abrupt("return");case 20:return t.next=22,s(c.routerRedux.replace(d||"/app"));case 22:case"end":return t.stop()}},t)}),getCaptcha:u.default.mark(function t(e,n){var a,r;return u.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.payload,r=n.call,t.next=4,r(i.getFakeCaptcha,a);case 4:case"end":return t.stop()}},t)})},reducers:{changeLoginStatus:function(t,e){var n=e.payload;return(0,o.setAuthority)(n.currentAuthority),(0,r.default)({},t,{status:n.status,type:n.type})}}},p=s;e.default=p},WHbk:function(t,e,n){"use strict";var a=n("mZ4U");Object.defineProperty(e,"__esModule",{value:!0}),e.fakeAccountLogin=i,e.getFakeCaptcha=s;var r=a(n("Ico4")),u=a(n("UWy3")),c=a(n("uubZ"));function i(t){return o.apply(this,arguments)}function o(){return o=(0,u.default)(r.default.mark(function t(e){return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.default)("/api/login/account",{method:"POST",data:e}));case 1:case"end":return t.stop()}},t)})),o.apply(this,arguments)}function s(t){return p.apply(this,arguments)}function p(){return p=(0,u.default)(r.default.mark(function t(e){return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.default)("/api/login/captcha?mobile=".concat(e)));case 1:case"end":return t.stop()}},t)})),p.apply(this,arguments)}},"sH+L":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPageQuery=r,e.setAuthority=u;var a=n("/tFb");function r(){return(0,a.parse)(window.location.href.split("?")[1])}function u(t){var e="string"===typeof t?[t]:t;return localStorage.setItem("antd-pro-authority",JSON.stringify(e))}}}]);